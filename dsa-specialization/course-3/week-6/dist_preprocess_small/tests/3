Failed case #3/7: (Wrong answer)

Preprocess input:
10 20
7 4 923
1 2 115
2 7 938
10 4 615
5 6 951
6 4 24
9 7 95
3 5 337
5 9 252
6 8 466
6 2 234
9 3 670
5 3 156
8 4 875
3 1 926
10 2 210
10 9 535
7 10 429
2 3 688
2 10 444

Input:
10
7 8
5 2
8 10
3 1
5 7
4 10
5 3
3 1
9 4
3 9

Your output:
-1
1185
-1
926
347
-1
156
926
1018
-1

Correct output:
3081
986
-1
926
347
-1
156
926
1018
589

 (Time used: 0.00/2.00, preprocess time used: 0.00/10.00, memory used: 0/8589934592.)